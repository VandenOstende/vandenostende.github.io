<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Afval Dashboard - Indaver</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  
  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    
    // Firebase configuratie - vervang met jouw eigen configuratie
  const firebaseConfig = {
    apiKey: "AIzaSyAl-9MvRHkkPdioLfttujiq1lqbtEyuF-4",
    authDomain: "customerzonedash.firebaseapp.com",
    projectId: "customerzonedash",
    storageBucket: "customerzonedash.firebasestorage.app",
    messagingSenderId: "201530834041",
    appId: "1:201530834041:web:e7e85ce018024ee50368a8",
    measurementId: "G-5TW4K17XC0"
  };
    
    // Initialiseer Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    
    // Maak Firebase beschikbaar globaal
    window.firebaseDb = db;
  </script>
</head>
<body>
  <div class="container">
    <!-- Tandwiel -->
    <div class="settings">
      <span id="settingsIcon">‚öôÔ∏è</span>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="logo-titel">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/be/Indaver-logo.png" alt="Indaver Logo" class="logo">
        <div class="titel-sectie">
          <h1>Aangevraagde afvoeren INEOS Oxide</h1>
          <p class="update-info">Gegevens worden dagelijks vernieuwd om 17u</p>
          <p class="instruction-info">Dubbel klik op een rij om meer details te krijgen</p>
        </div>
      </div>
    </header>

    <!-- Besturingselementen -->
    <div class="controls">
      <input type="text" id="searchInput" placeholder="Zoek in gegevens..." />
      <input type="file" id="fileInput" accept=".xls,.xlsx" style="display:none;" />
    </div>

    <!-- Tabel -->
    <div class="table-container">
      <div id="loadingIndicator" style="display: none; text-align: center; padding: 20px; color: #009739;">
        <span>üìä Excel bestand wordt verwerkt...</span>
      </div>
      <table id="dataTable">
        <thead id="tableHead"></thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- Modal voor opties -->
  <div class="modal-overlay"></div>
  <div class="modal">
    <h3>Dashboard Opties</h3>
    <button id="showColumnModal">Kolommen beheren</button>
    <!--<button id="reformatDatesBtn">Datums herformatteren</button>-->
    <hr style="margin: 15px 0; border: 1px solid #ddd;">
    <p style="font-size: 12px; color: #666; margin: 10px 0;">De onderstaande opties vereisen een pincode:</p>
    <button id="openFileBtn">Importeer Excel</button>
    <button id="clearStorageModal">Gegevens wissen</button>
    <button id="closeModal">Sluit</button>
  </div>

  <!-- Modal voor kolom beheer -->
  <div class="column-modal-overlay" style="display: none;"></div>
  <div class="column-modal" style="display: none;">
    <h3>Kolommen beheren</h3>
    <p>Vink de kolommen aan die je wilt zien en sleep ze om de volgorde te wijzigen:</p>
    <div class="column-checkboxes" id="columnCheckboxes">
      <!-- Checkboxes worden hier dynamisch toegevoegd -->
    </div>
    <div class="column-modal-buttons">
      <button id="selectAllColumns">Alles selecteren</button>
      <button id="deselectAllColumns">Alles deselecteren</button>
      <button id="resetColumnOrder">Reset volgorde</button>
      <button id="applyColumnChanges">Toepassen</button>
      <button id="closeColumnModal">Annuleren</button>
    </div>
  </div>

  <!-- Modal voor rij details -->
  <div class="row-detail-modal-overlay" style="display: none;"></div>
  <div class="row-detail-modal" style="display: none;">
    <div class="row-detail-header">
      <h3 id="rowDetailTitle">Rij Details</h3>
      <button id="closeRowDetailModal" class="close-btn">√ó</button>
    </div>
    <div class="row-detail-content" id="rowDetailContent">
      <!-- Details worden hier dynamisch toegevoegd -->
    </div>
    <div class="row-detail-footer">
      <button id="closeRowDetailBtn">Sluiten</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
